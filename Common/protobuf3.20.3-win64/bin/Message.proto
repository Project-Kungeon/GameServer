syntax = "proto3";
package message;

import "Struct.proto";

enum HEADER
{
	NONE = 0;
	LOGIN_REQ = 1;
	LOGIN_RES = 2;

	ENTER_ROOM_REQ = 3;
	ENTER_ROOM_RES = 4;

	LEAVE_ROOM_REQ = 5;
	LEAVE_ROOM_RES = 6;

	LEAVE_GAME_REQ = 7;
	LEAVE_GAME_RES = 8;

	PLAYER_SPAWN_RES = 9;
	PLAYER_DESPAWN_RES = 10;

	PLAYER_CHAT_REQ = 11;
	PLAYER_CHAT_RES = 12;

	PLAYER_MOVE_REQ = 13;
	PLAYER_MOVE_RES = 14;

	PLAYER_ATTACK_REQ = 15;
	PLAYER_ATTACK_RES = 16;
}

// 클라이언트 -> 서버 로그인
message C_Login
{
	// TODO : 인증 정보 넣을지..
}

// 로그인 성공 후, 서버 -> 클라이언트 결과 반환
message S_Login
{
	uint32 success = 1;
	repeated ObjectInfo players = 2;
}

// 방 입장 요청
message C_EnterRoom
{
	uint64 playerIndex = 1;
}

// 방 입장 결과
message S_EnterRoom
{
	uint32 success = 1;
	ObjectInfo player = 2;
}

// 방 떠나기 요청
message C_LeaveRoom
{

}

// 방 떠나기 결과
message S_LeaveRoom
{

}

// 다른 플레이어 입장 패킷
message S_Spawn
{
	repeated ObjectInfo players = 1;
}

// 다른 플레이어 퇴장 패킷
message S_Despawn
{
	repeated uint64 object_ids = 1;
}

message C_Move
{
	PosInfo PosInfo = 1;
}

message S_Move
{
	PosInfo PosInfo = 1;
}